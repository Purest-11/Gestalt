# ğŸ¯ Max/MSP è¿æ¥ - å¿«é€Ÿå‚è€ƒ

## âš¡ æ ¸å¿ƒä¿¡æ¯

| å‚æ•° | å€¼ |
|------|-----|
| **æ¼”å‘˜ UDP ç«¯å£** | `7400` |
| **è§‚ä¼— UDP ç«¯å£** | `7402` |
| **æ¥æ”¶å¯¹è±¡** | `[udpreceive 7400]` æˆ– `[udpreceive 7402]` |
| **æ¨¡æ¿å·¥ç¨‹** | `max-patches/Gestalt-Max:Msp Template Project/` |

### ğŸ¯ ç«¯å£æ¶æ„

```
æ¼”å‘˜1  â†’ 7400 â†’ Max/MSP â†’ Pigments 1
æ¼”å‘˜2  â†’ 7401 â†’ Max/MSP â†’ Pigments 2
è§‚ä¼—   â†’ 7402 â†’ Max/MSP â†’ Pigments 3
```

---

## ğŸ“¦ æ‰“å¼€æ¨¡æ¿å·¥ç¨‹

1. è¿›å…¥ `max-patches/Gestalt-Max:Msp Template Project/` æ–‡ä»¶å¤¹
2. åŒå‡»æ‰“å¼€ `Gestalt patch.maxpat`
3. åŠ è½½ `reference sound/` ä¸­çš„ Pigments é¢„è®¾ï¼ˆå¯é€‰ï¼‰

è¯¥æ¨¡æ¿å·²é¢„é…ç½®å¥½ OSC æ¥æ”¶å’Œå‚æ•°è·¯ç”±ï¼Œå¯ç›´æ¥ä½¿ç”¨ã€‚

---

## ğŸ›ï¸ è‡ªå®šä¹‰æ˜ å°„ï¼šä¸¤ç§æ–¹å¼

### æ–¹å¼ä¸€ï¼šWeb GUI æ˜ å°„ç¼–è¾‘å™¨ï¼ˆæ¨èï¼‰â­

ç³»ç»Ÿæä¾›äº†å¯è§†åŒ–çš„æ˜ å°„ç¼–è¾‘å™¨ï¼Œ**æ— éœ€ç¼–å†™ä»£ç **ï¼š

1. æ‰“å¼€ç›‘æ§é¢æ¿ `http://localhost:3002/?performer=audience`
2. ç‚¹å‡»å·¦ä¸‹è§’çš„ **æ˜ å°„ç¼–è¾‘å™¨** æŒ‰é’®
3. åœ¨ç•Œé¢ä¸­ï¼š
   - é€‰æ‹©è¾“å…¥æºï¼ˆæ‰‹åŠ¿ã€æ»‘åŠ¨å¼ºåº¦ã€æ–¹å‘ç­‰ï¼‰
   - è®¾ç½® OSC åœ°å€ï¼ˆå¦‚ `/pigments/CUTOFF1`ï¼‰
   - è°ƒæ•´æ•°å€¼èŒƒå›´å’Œæƒé‡
4. ç‚¹å‡»ä¿å­˜ï¼Œå®æ—¶ç”Ÿæ•ˆ

### æ–¹å¼äºŒï¼šMax/MSP ç«¯è·¯ç”±é…ç½®

åœ¨å£°æ˜å¼æ˜ å°„ç³»ç»Ÿä¸­ï¼ŒWeb ç«¯å®šä¹‰çš„ OSC åœ°å€éœ€ä¸ Max/MSP ç«¯çš„è·¯ç”±é…ç½®ä¿æŒä¸€è‡´ã€‚é…ç½®æ¶‰åŠä¸‰ä¸ªå…³é”®ç‚¹ï¼š

**ï¼ˆ1ï¼‰ç«¯å£é…ç½®**

`udpreceive` å¯¹è±¡çš„ç«¯å£å·éœ€ä¸ç³»ç»Ÿåˆ†é…ä¸€è‡´ï¼š
- æ¼”å‘˜ç«¯ï¼š`[udpreceive 7400]`
- è§‚ä¼—ç«¯ï¼š`[udpreceive 7402]`

**ï¼ˆ2ï¼‰åœ°å€è·¯ç”±**

`route` å¯¹è±¡ä¸­çš„ OSC åœ°å€å¿…é¡»ä¸ Web ç«¯æ˜ å°„ç¼–è¾‘å™¨ä¸­é…ç½®çš„åœ°å€**å®Œå…¨ä¸€è‡´**ï¼ŒåŒ…æ‹¬å¤§å°å†™å’Œæ–œæ æ ¼å¼ï¼š

```maxpat
[udpreceive 7402]
      |
[oscparse]
      |
[route /pigments]
      |
[route /VC /CUTOFF1 /LFO1_RATE]
   |       |           |
[å‚æ•°1]  [å‚æ•°2]     [å‚æ•°3]
```

è‹¥åœ°å€ä¸åŒ¹é…ï¼ŒOSC æ¶ˆæ¯å°†è¢«å¿½ç•¥ã€‚

**ï¼ˆ3ï¼‰å‚æ•°ç»‘å®š**

è·¯ç”±åçš„æ•°å€¼é€šè¿‡ `[å‚æ•°ID $1]` æ ¼å¼å‘é€è‡³ Pigments åˆæˆå™¨ï¼š

```maxpat
[route /CUTOFF1]
      |
[200 $1]          â† 200 æ˜¯ Pigments çš„ CUTOFF1 å‚æ•° ID
      |
[vst~ Pigments]
```

å‚æ•° ID å¯é€šè¿‡ Pigments çš„å‚æ•°ç´¢å¼•æŸ¥è¯¢ã€‚

---

## ğŸ“Š OSC æ¶ˆæ¯é€ŸæŸ¥è¡¨

### æ¼”å‘˜æ•°æ®ï¼ˆç«¯å£ 7400ï¼‰

| OSC åœ°å€ | ç±»å‹ | èŒƒå›´ | è¯´æ˜ |
|---------|------|------|------|
| `/performer1/hand/left/gesture` | int | 0-5 | å·¦æ‰‹æ‰‹åŠ¿ |
| `/performer1/hand/right/gesture` | int | 0-5 | å³æ‰‹æ‰‹åŠ¿ |
| `/performer1/body/{å…³é”®ç‚¹}/x` | float | 0-1 | èº«ä½“ X åæ ‡ |
| `/performer1/body/{å…³é”®ç‚¹}/y` | float | 0-1 | èº«ä½“ Y åæ ‡ |
| `/performer1/slider1` - `/slider8` | float | 0-1 | æ§åˆ¶æ»‘å— |

**èº«ä½“å…³é”®ç‚¹**: nose, left_shoulder, right_shoulder, left_elbow, right_elbow, left_wrist, right_wrist, left_hip, right_hip

**æ‰‹åŠ¿ç±»å‹**: 0=æœªçŸ¥, 1=å¼ å¼€, 2=æ¡æ‹³, 3=æŒ‡å‘, 4=ç«–æ‹‡æŒ‡, 5=å’Œå¹³

### è§‚ä¼—æ•°æ®ï¼ˆç«¯å£ 7402ï¼‰

| OSC åœ°å€ | ç±»å‹ | èŒƒå›´ | è¯´æ˜ |
|---------|------|------|------|
| `/audience/swipe/intensity` | float | 0-0.3 | æ»‘åŠ¨å¼ºåº¦ï¼ˆ30% æƒé‡ï¼‰ |
| `/audience/swipe/direction` | float | 0-360 | æ»‘åŠ¨æ–¹å‘ï¼ˆè§’åº¦ï¼‰ |
| `/audience/swipe/velocity` | float | 0-0.3 | æ»‘åŠ¨é€Ÿåº¦ |
| `/audience/gesture/type` | int | 0-4 | æ‰‹åŠ¿ç±»å‹ |
| `/audience/count` | int | 0-200+ | åœ¨çº¿äººæ•° |
| `/audience/keyboard/note` | int | 36-95 | MIDI éŸ³ç¬¦ |

**æ‰‹åŠ¿ç±»å‹å¯¹ç…§**:
```
0 = idle (é™æ­¢)
1 = swipe_up (å‘ä¸Š)
2 = swipe_down (å‘ä¸‹)
3 = swipe_left (å‘å·¦)
4 = swipe_right (å‘å³)
```

---

## âœ… æµ‹è¯•æµç¨‹

1. **å¯åŠ¨ç³»ç»Ÿ**
   ```bash
   ./start.sh
   # é€‰æ‹© 1ï¼ˆæœ¬åœ°æ¨¡å¼ï¼‰
   ```

2. **æ‰“å¼€ Max æ¨¡æ¿**
   - æ–‡ä»¶ï¼š`max-patches/Gestalt-Max:Msp Template Project/Gestalt patch.maxpat`

3. **æ‰‹æœºè®¿é—®**
   - æ‰«æç›‘æ§é¢æ¿ä¸Šçš„äºŒç»´ç 
   - æˆ–è®¿é—®ï¼š`http://ä½ çš„IP:3002/audience-touch/`

4. **æµ‹è¯•**
   - åœ¨æ‰‹æœºä¸Šè§¦æ‘¸æ»‘åŠ¨
   - è§‚å¯Ÿ Max æ§åˆ¶å°è¾“å‡º

---

## ğŸ” æ•…éšœæ’é™¤

### æ”¶ä¸åˆ°æ¶ˆæ¯ï¼Ÿ

1. âœ… æ£€æŸ¥ç«¯å£å·ï¼ˆæ¼”å‘˜ 7400ï¼Œè§‚ä¼— 7402ï¼‰
2. âœ… ç¡®ä¿æœåŠ¡å™¨æ­£åœ¨è¿è¡Œï¼ˆ`./start.sh`ï¼‰
3. âœ… æœ‰äººåœ¨çº¿å¹¶è¿›è¡Œäº¤äº’
4. âœ… æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

### OSC åœ°å€ä¸åŒ¹é…ï¼Ÿ

ç¡®ä¿ Web æ˜ å°„ç¼–è¾‘å™¨ä¸­çš„åœ°å€ä¸ Max/MSP `route` å¯¹è±¡ä¸­çš„åœ°å€**å®Œå…¨ä¸€è‡´**ï¼š
- å¤§å°å†™æ•æ„Ÿ
- æ–œæ æ ¼å¼ä¸€è‡´
- æ— å¤šä½™ç©ºæ ¼

---

## ğŸ“š æ›´å¤šä¿¡æ¯

- **è¯¦ç»†æŒ‡å—**ï¼š[MAXMSP_AUDIENCE_GUIDE.md](MAXMSP_AUDIENCE_GUIDE.md)
- **æ¨¡æ¿å·¥ç¨‹**ï¼š`max-patches/Gestalt-Max:Msp Template Project/`
- **Pigments é¢„è®¾**ï¼š`max-patches/Gestalt-Max:Msp Template Project/reference sound/`
